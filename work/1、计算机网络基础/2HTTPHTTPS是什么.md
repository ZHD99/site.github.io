# HTTP和HTTPS协议

## 一、 前言

- 在搜索引擎上访问了 http://www.baidu.com 搜索引擎会提示不安全链接  （**http**）  
- 同理，访问 https://www.baidu.com  则提示安全链接 (**https**)

## 二、 HTTP

### 什么是HTTP?

>http是一个简单的请求- **响应协议**，它通常运行在**TCP**之上。 它指定了客户端可能发送给服务器什么样的消息以及得到什么样的响应。  
请求和响应消息的头以**ASCII**码形式给出；而消息内容则具有一个类似**MIME**的格式。  
通过浏览器和服务器进行数据交互，进行超文本（文字，图片，视频等）传输的规定，它规定了超文本传输要遵守的规则

#### 发展历史：

|   版本   | 产生时间 |                             内容                             |      发展现状      |
| :------: | :------: | :----------------------------------------------------------: | :----------------: |
| HTTP/0.9 |  1991年  | 不涉及数据包传输，规定客户端和服务器之间通信格式，只能GET请求 | 没有作为正式的标准 |
| HTTP/1.0 |  1996年  | 传输内容格式不限制，增加PUT、PATCH、HEAD、 OPTIONS、DELETE命令 |    正式作为标准    |
| HTTP/1.1 |  1997年  |  持久连接(长连接)、节约带宽、HOST域、管道机制、分块传输编码  | 2015年前使用最广泛 |
|  HTTP/2  |  2015年  |        多路复用、服务器推送、头信息压缩、二进制协议等        |    逐渐覆盖市场    |

### HTTP请求方法

请求方法时客户端用来告知服务器其动作意图的方法。下面常用四种  
1、	**GET** ：获取资源  
GET方法用来请求访问已被URI识别的资源。也就是指定服务器处理请求之后响应的内容  
2、	**POST**：传输实体主体  
POST方法用来传输实体主体，POST和GET的区别是目的不同，GET的目的是获取，POST的目的是传输  
3、	**PUT**：传输文件  
PUT方法用来传输文件，文件内容包含在请求报文的实体中，然后请求保存URL指定的服务器位置  
4、	**DELETE**:删除文件  
DELETE 方法用来删除文件，是与PUT相反的方法，DELETE是要求返回URL指定的资源  
			

### HTTP的响应状态码

    状态码是用来告知客户端服务器处理请求的结果，凭借状态码用户可以知道服务器是请求处理成功，失败或者被转发；
    这样出现了错误也方便定位，共5种类型状态码  
    Informational  信息性状态码   接收的请求正在处理
    Success      成功状态码        请求正常处理完毕
    Redirection   重定向状态码      需要进行附加操作以完成请求
    Client Error   客户端错误状态码  服务器无法处理请求
    Server Error   服务器错误状态码  服务器处理请求出错
1. 200：    
     OK 被正常的处理成功了。        
  2. 204：No Content    
       请求处理成功，但是没有数据实体返回，也不允许有实体返回。比如说HEAD请求，可能就会返回204 No Content，因为HEAD就是只获取头信息。这里简单提一下205 Reset Content，和204 No Content的区别是不但没有数据实体返回，而且还需要重置表单，方便用户再次输入。        
  3. 206：Partial Content   
         这是客户端使用Content-Range指定了需要的实体数据的范围，然后服务端处理请求成功之后返回用户需要的这一部分数据而不是全部，执行的请求就是GET。返回码就是206：Partial Content。 
  4. 301 ： Moved Permanently    
       代表永久性定向。该状态码表示请求的资源已经被分配了新的URL，以后应该使用资源现在指定的URL。也就是说如果已经把资源对应的URL保存为书签了，这是应该按照Location首部字段提示的URL重新保存。 
  5. 302：Found  
         代表临时重定向。该状态码表示请求的资源已经被分配了新的URL，但是和301的区别是302代表的不是永久性的移动，只是临时的。就是说这个URL还可能会发生改变。如果保存成书签了也不会更新。  
  6. 303：See Other  
       和302的区别是303明确规定客户端应当使用GET方法。  
  7. 304：Not Modified  
       该状态码表示客户端发送附带条件请求时，服务器端允许请求访问资源，但是没有满足条件。304状态码返回时不包含任何数据实体。304虽然被划分在3XX中但是和重定向没有关系。  
  8. 307：Temporary Redirect  
       临时重定向，与302 Found相同，但是302会把POST改成GET，而307就不会。  
  9. 400：Bad Request  
       400表示请求报文中存在语法错误。需要修改后再次发送。  
  10. 401：Unauthorized  
       　　该状态码表示发送的请求需要有通过HTTP认证的认证信息。  
  11. 403：Forbidden  
        　　表明请求访问的资源被拒绝了。没有获得服务器的访问权限，IP被禁止等。  
  12. 404：Not Found  
        　　表明请求的资源在服 务器上找不到。当然也可以在服务器拒绝请求且不想说明理由时使用。  
  13. 408：Request Timeout  
        　　表示客户端请求超时，就是在客户端和服务器建立连接后服务器在一定时间内没有收到客户端的请求。  
  14. 500：Internal Server Error  
        　　表明服务器端在执行请求时发生了错误，很有可能是服务端程序的Bug或者临时故障。  
  15. 503：Service Unavailable  
        　　表明服务器暂时处于超负载或正在进行停机维护，现在无法处理请求。如果事先得知解除以上状况需要的时间，最好写入Retry-After字段再返回给客户端。
  16. 504：Getaway Timeout  
        　　网关超时，是代理服务器等待应用  服务器响应时的超时，和408 Request Timeout的却别就是504是服务器的原因而不是客户端的原因

## 三、HTTPS

### HTTPS是什么？

> **HTTPS**是一种安全协议，在访问HTTPS网站数据会**加密传输**，是以安全为目标的**HTTP通道**，在HTTP的基础上通过传输加密和身份认证保证了传说过程的安全性。HTTPS在HTTP的基础下加入SSL层，HTTPS的安全基础是**SSL**，因此加密的详细内容就需要SSL。HTTPS存在不同于HTTP的默认端口和一个加密/身份验证层（在**HTTP**和**TCP**之间）。这个系统提供了身份验证与加密通讯方法，现在它被广泛用于万维网上安全敏感的通讯，例如交易支付等



## 四、HTTP协议和HTTPS协议的区别：

**传输信息安全性不同，连接方式不同，端口不同，证书申请方式不同** 
### 一、传输信息安全性不同：

1、http协议：是超文本传输协议，信息是明文传输。如果攻击者截取了Web浏览器和网站服务器之间的传输报文，就可以直接读懂其中的信息。
2、https协议：是具有安全性的ssl加密传输协议，为浏览器和服务器之间的通信加密，确保数据传输的安全。

### 二、端口不同：

1、http协议：使用的端口是80。  
2、https协议：使用的端口是443  

### 四、证书申请方式不同 

1、http协议：免费
2、https协议: 收费   

- [SSL证书](https://baike.baidu.com/item/SSL证书)根据验证级别，分为三种类型，即域名型SSL证书，简称DVSSL;企业型[SSL证书](https://baike.baidu.com/item/SSL证书)，简称OVSSL;增强型SSL证书，简称EVSSL。
- SSL 简单分类的话
  - DV SSL证书、IV SSL证书    => 个人或小型组织
  - OV SSL证书、EV SSL证书    => 企业 或 大型组织或单位

## 五、TCP/IP协议的含义

### 1、互联网协议：

```
		是一个网络通信模型，以及一整个网络传输协议家族，为互联网的基础通信架构。
		包括两个核心协议：TCP（传输控制协议）和IP（网络协议），为该家族中最早通过的标准。
```

### 2、TCP/IP提供点对点的链接机制：

```
		将数据应该如何封装、定址、传输、路由以及目的地如何接收加以标准化。它将软件通信过程抽象为四个抽象层，采用协议堆栈的方式，分别实现出
```

成本考虑：  
SSL证书需要购买申请，功能越强大的证书费用越高  
SSL证书通常需要绑定IP，不能在同一IP上绑定多个域名，IPv4资源不可能支撑这个消耗（SSL有扩展可以部分解决这个问题，但是比较麻烦，而且要求浏览器、操作系统支持，Windows XP就不支持这个扩展，考虑到XP的装机量，这个特性几乎没用）。  
根据ACM CoNEXT数据显示，使用HTTPS协议会使页面的加载时间延长近50%，增加10%到20%的耗电。  
HTTPS连接缓存不如HTTP高效，流量成本高。  
HTTPS连接服务器端资源占用高很多，支持访客多的网站需要投入更大的成本。  
HTTPS协议握手阶段比较费时，对网站的响应速度有影响，影响用户体验。比较好的方式是采用分而治之，类似某某某网站的主页使用HTTP协议，有关于用户信息等方面使用HTTPS。  



参考链接：

https://blog.csdn.net/ddh1314520/article/details/104703711  
https://blog.csdn.net/xiaoming100001/article/details/81109617    

详细参考链接：  
http://www.blogjava.net/zjusuyong/articles/304788.html